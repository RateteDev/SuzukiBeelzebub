# 性格分析機能テスト

## テスト目的
性格分析関連のコマンドが正常に動作することを確認する

## 前提条件
- ボットが起動し、オンライン状態であること
- テスト用アカウントに十分なメッセージ履歴があること
- Gemini APIが利用可能であること

## テストケース

### 1. MBTI分析テスト

#### 通常のMBTI分析
1. `/性格分析mbti` コマンドを実行

期待される動作:
- 分析開始の確認メッセージ
- MBTI分析結果の埋め込みメッセージ
- 各タイプの説明が含まれていること
- "処理が終了しました"メッセージ

#### サイレントMBTI分析
1. `/性格分析mbti_silent` コマンドを実行

期待される動作:
- 分析結果が実行者にのみ表示される
- 他のユーザーには見えない

### 2. BIG5分析テスト

#### 通常のBIG5分析
1. `/性格分析big5` コマンドを実行

期待される動作:
- 分析開始の確認メッセージ
- BIG5分析結果の埋め込みメッセージ
- 各特性の詳細な説明
- "処理が終了しました"メッセージ

#### サイレントBIG5分析
1. `/性格分析big5_silent` コマンドを実行

期待される動作:
- 分析結果が実行者にのみ表示される
- 他のユーザーには見えない

## 確認項目

### MBTI分析
- [ ] ユーザーのメッセージを正しく収集できる
- [ ] 分析結果が適切なフォーマットで表示される
- [ ] 各タイプの説明が分かりやすい
- [ ] サイレントモードが正しく機能する

### BIG5分析
- [ ] ユーザーのメッセージを正しく収集できる
- [ ] 5つの特性が適切に分析される
- [ ] 分析結果の説明が詳細である
- [ ] サイレントモードが正しく機能する

## エラーケース

1. メッセージ履歴不足
   - 適切なエラーメッセージが表示される
   - 最小必要メッセージ数の説明がある

2. API関連の問題
   - API制限到達時の処理
   - 接続エラー時の処理
   - タイムアウト時の処理

3. 特殊なメッセージ内容
   - 絵文字やスタンプが多用されている場合
   - URLやメディアが多い場合
   - 非テキストコンテンツが多い場合

## パフォーマンス確認

- メッセージ収集の速度
- 分析処理の応答時間
- サーバー負荷への影響
- メモリ使用量

## 結果記録のポイント

### 機能面
- 分析結果の正確性
- 結果の一貫性
- 説明の分かりやすさ

### 技術面
- 処理速度
- エラーハンドリング
- リソース効率

### ユーザー体験
- コマンドの使いやすさ
- 結果の見やすさ
- プライバシーへの配慮
